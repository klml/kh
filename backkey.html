<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
 <meta http-equiv="Content-type" content="text/html;charset=UTF-8" /> 
 <title>backkey</title>
 <script src="http://code.jquery.com/jquery-1.7.1.min.js" type="text/javascript"></script>
 <style>
body {
font-family: sans-serif;
background-color: #8da7cc ;
}
textarea {
width: 100%;
height: 300px;
}
.col {
border: 1px solid #fff;
}
.col ul {
padding: 8px 5px;

}
.col ul li,
.col ul b,
.example {
font-family: monospace;
font-size: 25px;
height: 33px;
list-style-type: none;
display: inline;
}
.col ul b,
.example {
border: 1px solid #000;
margin-right: 5px;
letter-spacing: -10px;
padding-right: 4px;
}
.col ul em {
display: none;
color: #2B2B2B;
font-style: normal;
font-size: 12px;
}
.col ul span {
font-size: 12px;
display: none;
}
div b,
span b {
color: black;
font-weight: normal;
}
img  {
padding: 7px 0 0 4px;
}
.both {
clear: both;
}
.asdf {
margin-left: 20px;
}
.yxcv {
margin-left: 40px;
}
</style>
<script type="text/javascript">
$(document).ready(function() {
    $('textarea.backkey').focus();
    var combo = '';
    $('textarea.backkey').keydown( function (e) {
        k = e.keyCode ;
        if (k == '65' || k == '68' || k == '70' || k == '83' || ( k >= '74' && k <= '77' ) ) { // is key a, s, d, f, h-l ?
            combo += e.keyCode + ',' ;
            return false;
        };
    }).keyup(combo , function(e) {
        backkey( combo );
        k = e.keyCode ;
        if ( $('#uppercase').attr('checked') && k >= '74' && k <= '77' ) {
            o = o.toUpperCase();
        };
        $('textarea.backkey').insertAtCaret(o);
        combo = '';
        return false;
    });

    $('button').click( function () {
        $('ul b, ul em, ul span').toggle();
    });
});
function backkey (keystroke) {
keystroke = keystroke.split(',').sort().join(""); // just to sort ??!
// a  s  d  f     j  k  l  ö
// 65 83 68 70    74 75 76 77

switch (keystroke) {
// single
 case "65" : o = ""
  break;
 case "83" : o = ""
  break;
 case "68" : o = ""
  break;
 case "70" : o = "" 
  break;
 case "74" : o = " "
  break;
 case "75" : o = "backspace"
  break;
 case "76" : o = " und "
  break;
 case "77" : o = "Enter"
  break;
// symetric
 case "7074" : o = "e"
  break;
 case "6875" : o = "a"
  break;
 case "7683" : o = "o"
  break;
 case "68707475" : o = "i"
  break;
 case "68757683" : o = "u"
  break;
 case "70747683" : o = "n"
  break;
 case "687074757683" : o = "s"
  break;
 case "687074" : o = "t"
  break;
 case "7076" : o = "h"
  break;
 case "7075" : o = "r"
  break;
 case "707475" : o = "d"
  break;
 case "687683" : o = "l"
  break;
 case "6870747683" : o = "c"
  break;
 case "7483" : o = "m"
  break;
 case "68707576" : o = "w"
  break;
 case "6870747583" : o = "f"
  break;
 case "6876" : o = "g"
  break;
 case "68747583" : o = "y"
  break;
 case "68707483" : o = "p"
  break;
 case "70747576" : o = "b"
  break;
 case "707583" : o = "v"
  break;
 case "7583" : o = "k"
  break;
 case "757683" : o = "j"
  break;
 case "68747576" : o = "x"
  break;
 case "687476" : o = "q"
  break;
 case "68707583" : o = "z"
 break;
 default:
 o = ''
 break;
return o ;
}
};
</script>
</head>
<body>

<div class="col">


<ul class="qwer">
	<li>q <b>⠂⠅</b><em>__D_ J_L_</em><span>back on black</span></li>
	<li>w <b>⠃⠆</b><em>__DF _KL_</em><span>bob Cassiopeia</span></li>
	<li>e <b>⠁⠁</b><em>___F J___</em><span>symetric</span></li>
	<li>r <b>⠁⠂</b><em>___F _K__</em><span>2 keys</span></li>
	<li>t <b>⠃⠁</b><em>__DF J___</em><span>back on black</span></li>
	<li>z <b>⠇⠂</b><em>_SDF _K__</em><span>back on black</span></li>
	<li>u <b>⠆⠆</b><em>_SD_ _KL_</em></li>
	<li>i <b>⠃⠃</b><em>__DF JK__</em></li>
	<li>o <b>⠄⠄</b><em>_S__ __L_</em></li>
	<li>p <b>⠇⠁</b><em>_SDF J___</em><span>back on black</span></li>
</ul>
<ul class="asdf">
	<li>a <b>⠂⠂</b><em>__D_ _K__</em></li>
	<li>s <b>⠇⠇</b><em>_SDF JKL_</em></li>
	<li>d <b>⠁⠃</b><em>___F JK__</em><span>mirror to t</span></li>
	<li>f <b>⠇⠃</b><em>_SDF JK__</em><span>back on black</span></li>
	<li>g <b>⠂⠄</b><em>__D_ __L_</em><span>2 keys</span></li>
	<li>h <b>⠁⠄</b><em>___F __L_</em><span>2 keys</span></li>
	<li>j <b>⠄⠆</b><em>_S__ _KL_</em><span>back on black</span></li>
	<li>k <b>⠄⠂</b><em>_S__ _K__</em><span>mirror to g</span></li>
	<li>l <b>⠆⠄</b><em>_SD_ __L_</em><span>back on black</span></li>
</ul>
<ul class="yxcv">
	<li>y <b>⠆⠃</b><em>_SD_ JK__</em><span>back on black</span></li>
	<li>x <b>⠂⠇</b><em>__D_ JKL_</em><span>back on black</span></li>
	<li>c <b>⠇⠅</b><em>_SDF J_L_</em><span>back on black</span></li>
	<li>v <b>⠅⠂</b><em>_S_F _K__</em><span>back on black</span></li>
	<li>b <b>⠁⠇</b><em>___F JKL_</em><span>mirror to p</span></li>
	<li>n <b>⠅⠅</b><em>_S_F J_L_</em></li>
	<li>m <b>⠄⠁</b><em>_S__ J___</em><span>2 keys</span></li>
</ul>
<ul>
<li style="width: 350px;"> <b style="width: 350px;"> ⠁</b><em>____ J___</em><span><i>space</i></span></li>
</ul>

<ul>

	<li>⇦<b> ⠂</b><em>____ _K__</em><span><i></i></span></li>
	<li><b> ⠄</b><em>____ __L_</em><span><i>and</i></span></li>
	<li><b> ⠃</b><em>____ JK__</em></li>
	<li><b> ⠆</b><em>____ _KL_</em></li>
	<li><b> ⠅</b><em>____ J_L_</em></li>
	<li><b> ⠇</b><em>____ JKL_</em></li>
</ul>

</div>

<!--
the rest without S and L (3. finger)

__DF _K__
__D_ J___
__D_ JK__

the rest of the _SDFJKL_ section

__DF J_L_
__DF _K__
__DF __L_
__D_ J___
__D_ JK__
__D_ _KL_
___F J_L_
___F _KL_
_SDF _KL_
_SDF __L_
_SD_ J___
_SD_ JKL_
_SD_ J_L_
_SD_ _K__
_S_F J___
_S_F JK__
_S_F JKL_
_S_F _K__
_S_F _KL_
_S_F __L_
_S__ JK__
_S__ JKL_
_S__ J_L_

-->

<br class="both" />

<textarea class="backkey"></textarea>
<button type="button">braile vs asdf</button>
<br />
<dl>
    <dt>write chars</dt>
    <dd>Press the combination with <code>asdf</code> and <code>jklö</code>. The uppermost finger is the index, lies on <code>f</code> on lefthand and <code>j</code> on right, the rest follows downwards<br />
    e.g <code>⠃⠁</code> is pressed with <code>df</code> and <code>j</code> (btw it is a t)  </dd>
    <dt>lowerUPPERcase</dt>
    <dd><input type="checkbox" name="uppercase" id="uppercase" /> lower: keyup first with the left hand; upper: with the right (not sure..todo?)</dd>
</dl>

<p>Example:

<b class="example">⡇⡇</b>
</p>


more on <a href="http://umija.org/dev%3Abackkey">umija.org/dev:backkey</a>

<script>
// library
jQuery.fn.insertAtCaret = function (myValue) { // from https://github.com/nkm/jQuery-insertAtCaret
        return this.each(function(){
                //IE support
                if (document.selection) {
                        this.focus();
                        sel = document.selection.createRange();
                        sel.text = myValue;
                        this.focus();
                }
                //MOZILLA/NETSCAPE support
                else if (this.selectionStart || this.selectionStart == '0') {
                        var startPos = this.selectionStart;
                        var endPos = this.selectionEnd;
                        var scrollTop = this.scrollTop;
                        if ( myValue == 'backspace' || myValue == 'BACKSPACE' ) {
                            this.value = this.value.substring(0, startPos - 1 ) + this.value.substring(endPos , this.value.length);
                            var pospoint = startPos -1 ;
                        } else {
                            this.value = this.value.substring(0, startPos) + myValue + this.value.substring(endPos, this.value.length);
                            var pospoint = startPos + myValue.length;
                        };
                        this.focus();
                        this.selectionStart = pospoint ;
                        this.selectionEnd = pospoint ;
                        this.scrollTop = scrollTop;
                } else {
                        this.value += myValue;
                        this.focus();
                }
        });
};
</script>
</body>
</html>
